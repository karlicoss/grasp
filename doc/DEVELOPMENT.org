* Running end2end tests

There are some end2end tests which check both web extension and the browser, but require GUI, so they can't run on github actions. 

You can run them manually, however:

- you need `xdotool` installed (it's used for simulating keyboard input)
- they won't work on Wayland right now (need X11)

The commands to run are something like this:

: tox -e end2end -- -s  # runs all available tests with all browsers. -s is necessary to confirm prompts
: tox -e end2end -- -s --collect-only  # to see all available tests
: tox -e end2end -- -s -k headless  # only run tests on headless firefox/chrome
: tox -e end2end -- -s -k 'firefox_gui and bad_port'  # only run one specific test against  gui firefox

* Releasing extension
** AMO (addons.mozilla.org)
: cd extension
: npm install # (if necessary)
: ./build --firefox --v2 --lint --release --publish

Note that this command will go in a busy loop waiting for the extension to be approved on AMO.
(you will see it on https://addons.mozilla.org/en-US/developers/addon/grasp/versions)

- for now =v2= version of manifest is used with Firefox
- you can use =--publish=unlisted= if you want to test extension yourself first


Currently seems like it's not possible to upload the source code and notes for reviewers automatically:

- https://github.com/mozilla/web-ext/issues/3137
- https://github.com/mozilla/addons/issues/6158
